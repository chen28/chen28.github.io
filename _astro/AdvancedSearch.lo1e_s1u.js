import{p as e,o as a,i as s,s as r,r as t}from"./translation.DJSDy86t.js";import{i}from"./lifecycle.CfIpNs7X.js";import{f as o,t as l,g as d,e as c,a as n,p,b as v,s as m,c as f,d as u,u as x,h,i as b,j as g,m as y,r as w,k as j}from"./render.Df4cnjhi.js";import{I as k,i as T,h as z}from"./Icon.DwwO3zCs.js";import{e as I,i as S}from"./each.B6eGnrx7.js";import{b as _}from"./input.sPJBSYkX.js";import{I as L}from"./zh_TW.DdrW1JFl.js";import{u as P}from"./url-utils.FCYI2bkv.js";/* empty css                        */import"./branches.4BwR_tAq.js";/* empty css                        */var R=b('<p class="text-base text-50 leading-relaxed"> </p>'),q=b('<div class="flex justify-center py-10"><!></div>'),A=b('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),B=b('<div class="space-y-4"></div>'),C=b('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),E=b('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),N=b('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function U(b,U){v(U,!1);let W=e(U,"title",24,()=>s(L.search)),D=e(U,"description",8,""),F=y(""),G=y([]),H=y(!1),J=!1;P("/"),P("/");const K=async()=>{if(J&&d(F).trim()){m(H,!0);try{if(window.pagefind){const e=await window.pagefind.search(d(F)),a=await Promise.all(e.results.map(e=>e.data()));m(G,a)}else 0}catch(e){console.error("Search error:",e),m(G,[])}finally{m(H,!1)}}else m(G,[])};let M;a(()=>{const e=async()=>{J=!0;const e=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();e&&m(F,e),d(F).trim()&&await K()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});i();var O=N(),Q=o(O),V=g(Q),X=g(V),Y=g(X),Z=g(Y);k(Z,{icon:"material-symbols:search",class:"text-[1.5rem]"}),w(Y);var $=f(Y,2),ee=g($,!0);w($),w(X);var ae=f(X,2),se=e=>{var a=R(),s=g(a,!0);w(a),l(()=>h(s,D())),n(e,a)};T(ae,e=>{D()&&e(se)}),w(V);var re=f(V,2),te=g(re),ie=g(te),oe=g(ie);k(oe,{icon:"material-symbols:search",class:"text-2xl text-50"}),w(ie);var le=f(ie,2);t(le),w(te),w(re),w(Q);var de=f(Q,2),ce=g(de),ne=g(ce),pe=e=>{var a=q(),s=g(a);k(s,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),w(a),n(e,a)},ve=e=>{var a=j(),t=o(a),i=e=>{var a=B();I(a,5,()=>d(G),S,(e,a)=>{var s=A(),t=g(s),i=g(t),o=g(i);z(o,()=>(d(a),x(()=>d(a).meta.title))),w(i);var c=f(i,2),p=g(c);z(p,()=>(d(a),x(()=>d(a).excerpt))),w(c),w(t),w(s),l(()=>r(t,"href",(d(a),x(()=>d(a).url)))),n(e,s)}),w(a),n(e,a)},c=e=>{var a=j(),r=o(a),t=e=>{var a=C(),r=g(a,!0);w(a),l(e=>h(r,e),[()=>(u(s),u(L),x(()=>s(L.searchNoResults)))]),n(e,a)},i=e=>{var a=E(),r=g(a,!0);w(a),l(e=>h(r,e),[()=>(u(s),u(L),x(()=>s(L.searchTypeSomething)))]),n(e,a)};T(r,e=>{d(F)?e(t):e(i,!1)},!0),n(e,a)};T(t,e=>{d(G),x(()=>d(G).length>0)?e(i):e(c,!1)},!0),n(e,a)};T(ne,e=>{d(H)?e(pe):e(ve,!1)}),w(ce),w(de),l(e=>{h(ee,W()),r(le,"placeholder",e)},[()=>(u(s),u(L),x(()=>s(L.search)))]),_(le,()=>d(F),e=>m(F,e)),c("input",le,()=>{clearTimeout(M),M=setTimeout(()=>{K()},300)}),n(b,O),p()}export{U as default};
